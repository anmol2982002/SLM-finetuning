flowchart LR
    subgraph Input
        A[ğŸ“ Documents<br/>PDF, DOCX, etc.] 
    end
    
    subgraph "Data Pipeline"
        B[ğŸ”§ Apache Tika<br/>Text Extraction]
        C[ğŸ“ Instruction<br/>Formatter]
        D[ğŸ“Š Train/Val/Test<br/>Splits]
    end
    
    subgraph "Training Pipeline"
        E[ğŸ§  Gemma-3 270M<br/>Base Model<br/>FROZEN]
        F[ğŸ”— LoRA Adapters<br/>r=16, Î±=32]
        G[ğŸ“ˆ Trainer<br/>3 epochs]
    end
    
    subgraph "Inference"
        H[ğŸ’¾ Fine-tuned<br/>Adapters]
        I[âš¡ FastAPI<br/>Server]
        J[ğŸ“¤ JSON Output<br/>{"label": "..."}]
    end
    
    A --> B --> C --> D
    D --> G
    E --> G
    F --> G
    G --> H --> I --> J
    
    style E fill:#e8f5e9,stroke:#4caf50
    style F fill:#fff3e0,stroke:#ff9800
    style J fill:#e3f2fd,stroke:#2196f3
